@model Hager_Ind_CRM.ViewModels.RolePermsVM

@{
    ViewBag.Title = "Create";
}

<h1>Create Role</h1>
<a asp-action="Index" class="btn btn-secondary">Back</a>
<div asp-validation-summary="All" class="text-danger"></div>

<form method="post">
    <div class="form-group">
        <label asp-for="Name"></label>
        <input asp-for="Name" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="rolePerms" class="control-label"></label>
        <table>
            <tr>
                @{
                    int cnt = 0;
                    List<Hager_Ind_CRM.ViewModels.PermVM> perms = ViewBag.Perms;
                    foreach (var perm in perms)
                    {
                        if (cnt++ % 3 == 0)
                        {
                        @:</tr><tr>
                        }
                        @:<td>
                            <input type="checkbox"
                                   name="selectedPerms"
                                   value="@perm.PermValue"
                                   @(Html.Raw(perm.Assigned ? "checked=\"checked\"" : "")) />
                            @perm.PermValue @:&nbsp;&nbsp;
                        @:</td>
                    }
                @:</tr>
                }
            </table>
        </div>
        <button type="submit" class="btn btn-primary">Create</button>
    </form>